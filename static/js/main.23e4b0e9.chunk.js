(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{17:function(e,t,n){e.exports=n(48)},28:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(7),u=n.n(c),o=n(3),s=n(5),l=n(14),i=n(2),m=n(8),d=n(4),f=n.n(d),p=n(6),E="https://jsonplaceholder.typicode.com/";function y(e){return h.apply(this,arguments)}function h(){return(h=Object(p.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=function(){return y(E+"posts")},v=function(){return y(E+"comments")},g=function(){return y(E+"users")},O="SET_IS_LOADED",L="SET_IS_LOADING",j="SET_QUERY",_="SET_POSTS",S="SET_USERS",N="SET_COMMENTS",w="DELETE_POST",C="DELETE_COMMENT",T=function(e){return{type:L,isLoading:e}},q={isLoaded:!1,isLoading:!1},k={query:""},F={posts:[],users:[],comments:[]},R=Object(s.c)({loadReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(i.a)({},e,{isLoaded:t.isLoaded});case L:return Object(i.a)({},e,{isLoading:t.isLoading});default:return e}},queryReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{query:t.query};default:return e}},dataReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(i.a)({},e,{posts:t.posts});case S:return Object(i.a)({},e,{users:t.users});case N:return Object(i.a)({},e,{comments:t.comments});case w:return Object(i.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.id}))});case C:return Object(i.a)({},e,{comments:e.comments.filter((function(e){return e.id!==t.id}))});default:return e}}}),x=Object(s.d)(R,Object(s.a)(l.a)),D=(n(28),{deleteComment:function(e){return{type:C,id:e}}}),I=Object(o.b)(null,D)((function(e){var t=e.comment,n=e.deleteComment,r=t.name,c=t.email,u=t.body,o=t.id;return a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{type:"button",onClick:function(){return n(o)}},"X"),a.a.createElement("h5",{className:"comment__name"},r),a.a.createElement("p",{className:"comment__body"},u),a.a.createElement("p",{className:"comment__email"},c))})),M=function(e){var t=e.comments;return a.a.createElement(a.a.Fragment,null,t&&t.map((function(e){return a.a.createElement("li",{key:e.id,className:"comment"},a.a.createElement(I,{comment:e}))})))},P=function(e){var t=e.user,n=t.username,r=t.email,c=t.address.city;return a.a.createElement("div",{className:"user"},a.a.createElement("p",null,n),a.a.createElement("p",null,r),a.a.createElement("p",null,c))},Q={deletePost:function(e){return{type:w,id:e}}},A=Object(o.b)(null,Q)((function(e){var t=e.post,n=e.deletePost,r=t.title,c=t.body,u=t.comments,o=t.user,s=t.id;return a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{type:"button",onClick:function(){return n(s)}},"X"),a.a.createElement("h2",null,r),a.a.createElement("p",null,c),o&&a.a.createElement(P,{user:o}),a.a.createElement("p",null,"Comments"),a.a.createElement("ul",{className:"comments list"},a.a.createElement(M,{comments:u})))})),B=function(e){var t=e.posts;return a.a.createElement("ul",{className:"list"},t.map((function(e){return a.a.createElement("li",{key:e.id,className:"list__item"},a.a.createElement(A,{post:e}))})))},J=function(e){var t=e.query,n=e.handleSearch;return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{className:"search",type:"text",value:t,onChange:n,placeholder:"Search..."}))},U=function(e){var t=e.handleLoad;return a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{className:"button",type:"button",onClick:t},"Load posts"))},X=n(15),G=n.n(X),H=function(){return a.a.createElement("div",{className:"loader"},a.a.createElement(G.a,{type:"Hearts",color:"#00BFFF",height:100,width:100,timeout:3e3}))},Y=n(16),z=Object(Y.a)((function(e){return e.posts}),(function(e){return e.users}),(function(e){return e.comments}),(function(e,t,n){return t.length?function(e,t,n){return e.map((function(e){return Object(i.a)({},e,{user:t.find((function(t){return t.id===e.userId})),comments:n.filter((function(t){return t.postId===e.id}))})}))}(e,t,n):[]})),K={loadData:function(){return function(e){e(T(!0)),Promise.all([b(),g(),v()]).then((function(t){var n=Object(m.a)(t,3),r=n[0],a=n[1],c=n[2];e(function(e){return{type:_,posts:e}}(r)),e(function(e){return{type:S,users:e}}(a)),e(function(e){return{type:N,comments:e}}(c)),e({type:O,isLoaded:!0})})).finally((function(){return e(T(!1))}))}},setQuery:function(e){return{type:j,query:e}}},V=Object(o.b)((function(e){return{isLoaded:e.loadReducer.isLoaded,isLoading:e.loadReducer.isLoading,query:e.queryReducer.query,posts:z(e.dataReducer)}}),K)((function(e){var t=e.isLoaded,n=e.isLoading,c=e.query,u=e.posts,o=e.loadData,s=e.setQuery,l=function(){var e=Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=Object(r.useMemo)((function(){return u.length?function(e,t){var n=e.toLowerCase();return t.filter((function(e){return e.title.toLowerCase().includes(n)||e.body.toLowerCase().includes(n)}))}(c,u):[]}),[c,u]);return a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(J,{query:c,handleSearch:function(e){s(e.target.value)}}),!t&&a.a.createElement(U,{handleLoad:l}),t&&a.a.createElement(B,{posts:i}),n&&a.a.createElement(H,null))}));u.a.render(a.a.createElement(o.a,{store:x},a.a.createElement(V,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.23e4b0e9.chunk.js.map